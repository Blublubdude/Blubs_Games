<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yu-Gi-Oh! Dueling</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #007BFF; /* Blue background */
            margin: 0;
            padding: 20px;
            color: white; /* White text color */
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            color: #FFFFFF; /* White color for header */
        }

        main {
            display: flex;
            justify-content: space-between;
        }

        section {
            width: 45%;
            padding: 10px;
            background: white; /* White background for sections */
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            color: black; /* Black text color for readability */
        }

        button {
            margin-top: 10px;
        }

        #card-image {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Yu-Gi-Oh! Dueling</h1>
    </header>
    <main>
        <section id="ai-deck">
            <h2>Yusei Fudo's Deck</h2>
            <ul id="yusei-deck"></ul>
        </section>
        <section id="card-selection">
            <h2>Select Your Cards</h2>
            <input type="text" id="search" placeholder="Search for cards...">
            <div id="card-list"></div>
            <button id="show-deck">Show Your Deck</button>
            <button id="save-deck">Save Your Deck</button>
            <div id="card-image"></div>
        </section>
    </main>
    <script>
        // Sample data for Yusei Fudo's Deck (you can modify this)
        const yuseiFudoDeck = [
            "Stardust Dragon",
            "Junk Warrior",
            "Synchron Explorer",
            "Speed Warrior"
        ];

        // Display Yusei Fudo's Deck
        function displayYuseiDeck() {
            const deckList = document.getElementById('yusei-deck');
            yuseiFudoDeck.forEach(card => {
                const listItem = document.createElement('li');
                listItem.textContent = card;
                deckList.appendChild(listItem);
            });
        }

        // Load cards from the database (You should fetch this from a proper API)
        async function fetchCards() {
            const response = await fetch('https://ygoprodeck.com/api/v7/cardinfo.php');
            const data = await response.json();
            displayCards(data.data);
        }

        // Display cards on the page
        function displayCards(cards) {
            const cardList = document.getElementById('card-list');
            cardList.innerHTML = '';

            cards.forEach(card => {
                const cardDiv = document.createElement('div');
                cardDiv.innerHTML = `
                    <input type="checkbox" id="${card.id}" value="${card.name}">
                    <label for="${card.id}">${card.name}</label>
                `;
                cardList.appendChild(cardDiv);
            });
        }

        // Show user's deck
        document.getElementById('show-deck').addEventListener('click', () => {
            const savedDeck = JSON.parse(localStorage.getItem('userDeck'));
            if (savedDeck) {
                alert('Your Deck: ' + savedDeck.join(', '));
            } else {
                alert('Your deck is empty!');
            }
        });

        // Save selected cards to local storage
        document.getElementById('save-deck').addEventListener('click', () => {
            const selectedCards = Array.from(document.querySelectorAll('#card-list input:checked'))
                .map(input => input.value);
            localStorage.setItem('userDeck', JSON.stringify(selectedCards));
            alert('Deck saved!');
        });

        // Load saved cards from local storage
        function loadSavedDeck() {
            const savedDeck = JSON.parse(localStorage.getItem('userDeck'));
            if (savedDeck) {
                savedDeck.forEach(cardName => {
                    const cardInput = document.querySelector(`#card-list input[value="${cardName}"]`);
                    if (cardInput) {
                        cardInput.checked = true;
                    }
                });
            }
        }

        // Display card image based on search input
        document.getElementById('search').addEventListener('input', async (event) => {
            const query = event.target.value;
            if (query) {
                const response = await fetch('https://ygoprodeck.com/api/v7/cardinfo.php');
                const data = await response.json();
                const card = data.data.find(card => card.name.toLowerCase() === query.toLowerCase());
                const cardImageDiv = document.getElementById('card-image');
                cardImageDiv.innerHTML = ''; // Clear previous image
                if (card) {
                    const img = document.createElement('img');
                    img.src = card.card_images[0].image_url; // Use the first image of the card
                    img.alt = card.name;
                    img.style.width = '200px'; // Set width for the image
                    cardImageDiv.appendChild(img);
                } else {
                    cardImageDiv.innerHTML = '<p>No card found.</p>';
                }
            } else {
                document.getElementById('card-image').innerHTML = ''; // Clear image if search is empty
            }
        });

        // Initialize the app
        fetchCards();
        displayYuseiDeck();
        loadSavedDeck();
    </script>
</body>
</html>
